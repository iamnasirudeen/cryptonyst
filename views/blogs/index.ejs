<% include ../partials/header %>

<div class="container">
    <div id="top2">
        <div class="row">
            <div class="col-md-9">
                <% blogs.forEach((blog) => { %>
                    <div class="col-md-4 col-sm-6 thumb" style="display: flex; flex-wrap: wrap;">
                            <img src="<%= blog.image %>" />
                            <div class="caption">
                                <h3><a href="/blogs/<%= blog._id %>"><%= blog.title %></a></h3>
                                <p><%- blog.content.substring(0, 50) %>...</p>
                                <p id="created"><span id="author"><%= blog.postedBy.username %> - <%= blog.createdAt.toDateString() %></span></p>
                            </div>
                            <br>
                    </div>
                <% }) %>
            </div>
            <div class="col-md-3">
            <p class="lead">Quick Links</p>
            <div class="list-group">
                <li class="list-group-item active_aside">Archive</li>
                <li class="list-group-item">Chat</li>
                <li class="list-group-item">Getting Started</li>
                <li class="list-group-item">Search</li>
                <li class="list-group-item">FAQ</li>
            </div>
        </div>
    </div>
    <section class="pagination">
        <% if (currentPage != 1 && previousPage !== 1) { %>
            <a href="/blogs/?page=1">1</a>
        <% } %>

        <% if (hasPreviousPage) { %>
            <a href="/blogs/?page=<%= previousPage %>"><%= previousPage %></a>
        <% } %>

        <a class="active" href="/blogs/?page=<%= currentPage %>"><%= currentPage %></a>

        <% if (hasNextPage) { %>
            <a href="/blogs/?page=<%= nextPage %>"><%= nextPage %></a>
        <% } %>

        <% if (lastPage !== currentPage && nextPage !== lastPage) { %>
            <a href="/blogs/?page=<%= lastPage %>"><%= lastPage %></a>
        <% } %>
    </section>
</div>

<% include ../partials/footer %>